let pokemonRepository=function(){let e=[],t=['name','detailsUrl'];function n(e){return o(),fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){i(),e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){console.error(e),i()})}function o(){let e=document.querySelector('.loading-status'),t=document.createElement('p');t.classList.add('status-message'),t.innerText='Loading ...',e.append(t)}function i(){let e=document.querySelector('.status-message');e.parentElement.removeChild(e)}function r(n){if('object'==typeof n){let o=Object.keys(n);JSON.stringify(t.sort())===JSON.stringify(o.sort())?(e.push(n),console.log('Added new pokemon.')):console.log('Not added. Object keys incorrect.')}else console.log('Not added. This item is not an Object.')}function a(){return e}return{add:r,addListItem:function e(t){let o=document.querySelector('#pokemon-list'),i=document.createElement('button');i.innerText=t.name.toUpperCase(),i.setAttribute('type','button'),i.classList.add('btn','btn-dark','pokemon-button','box-shadow','col-sm-4','col-md-3','col-lg-2'),i.setAttribute('data-toggle','modal'),i.setAttribute('data-target','#pokemonModalContainer'),o.appendChild(i),function e(t,o){t.addEventListener('click',function(){(function e(t){n(t).then(function(){(function e(t,n,o,i){let r=document.querySelector('#pokemonModalTitle'),a=document.querySelector('.modal-body');r.innerText='',a.innerHTML='',r.innerText=t;let l=document.createElement('img');l.src=n,l.alt=t+' Pok\xe9mon image';let s=document.createElement('p');s.innerText='Height: '+o;let c=document.createElement('p'),d=[];i.forEach(function(e){d.push(e.type.name)});let u='Types: '+d.toString().replace(',',', ');c.innerText=u,a.appendChild(l),a.appendChild(s),a.appendChild(c)})(t.name.toUpperCase(),t.imageUrl,t.height,t.types)})})(o)})}(i,t)},getAll:a,getPokemonByName:function t(n){return e.filter(e=>e.name.toLowerCase()===n.toLowerCase())},loadList:function e(){return o(),fetch('https://pokeapi.co/api/v2/pokemon/?limit=150').then(function(e){return e.json()}).then(function(e){i(),e.results.forEach(function(e){r({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e),i()})},loadDetails:n}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});